{"version":3,"file":"main.3d4e949b9551ae0e3daa.hot-update.js","sources":["webpack:///./src/common/fleet/FleetActions.js"],"sourcesContent":["import axios from 'axios/index'\n\nimport config from '../../config'\nimport action, { actionFailed } from '../../util/action'\nimport createAsyncConst from '../../util/createAsyncConst'\nimport consts from '../../consts'\n\nexport const REMOVE_FLEET = createAsyncConst('REMOVE_FLEET')\nexport const SUBMIT_FLEET = createAsyncConst('SUBMIT_FLEET')\nexport const FETCH_FLEET = createAsyncConst('FETCH_FLEET')\nexport const EDIT_FLEET = createAsyncConst('EDIT_FLEET')\nexport const SAVE_FLEET_TO_DISTRIBUTION_CENTER = createAsyncConst('SAVE_FLEET_TO_DISTRIBUTION_CENTER')\nexport const FETCH_FLEET_TO_DISTRIBUTION_CENTER = createAsyncConst('FETCH_FLEET_TO_DISTRIBUTION_CENTER')\n\nexport function fetchFleet(page, filters = [], rows) {\n  return dispatch => {\n    dispatch(action(FETCH_FLEET.ACTION))\n    return axios\n      .get(`${config.API_URL}/fleet?filters=` + JSON.stringify(filters) +`&&page=` + page + `&&rows=` + (rows || consts.DEFAULT_PAGINATION), {\n        page,\n        filters,\n      })\n      .then(resp => {\n        dispatch(action(FETCH_FLEET.SUCCESS, {data: resp.data, filters: filters}))\n        return resp\n      })\n      .catch(e => dispatch(actionFailed(FETCH_FLEET, e)))\n  }\n}\n\nexport function edit(id) {\n  return dispatch => {\n    dispatch(action(EDIT_FLEET.ACTION, { id }))\n    return axios\n      .get(`${config.API_URL}/fleet/${id}`)\n      .then(resp => resp.data.data.item)\n      .then(data => dispatch(action(EDIT_FLEET.SUCCESS, data)))\n      .catch(e => dispatch(actionFailed(EDIT_FLEET, e)))\n  }\n}\n\nexport function post(values) {\n  return submit(values, 'post')\n}\n\nexport function update(values) {\n  return submit(values, 'put')\n}\n\nfunction submit(values, method) {\n  const id = values.id ? `/${values.id}` : ''\n\n  return dispatch => {\n    dispatch(action(SUBMIT_FLEET.ACTION))\n    return axios[method](`${config.API_URL}/fleet${id}`, values)\n      .then(resp => resp.data)\n      .then(data => {\n        dispatch(action(SUBMIT_FLEET.SUCCESS, data))\n        dispatch(fetchFleet())\n        return data\n      })\n      .catch(e => dispatch(actionFailed(SUBMIT_FLEET, e)))\n  }\n}\n\nexport function remove(id) {\n  return dispatch => {\n    dispatch(action(REMOVE_USER.ACTION))\n    return axios\n      .delete(`${config.API_URL}/api/user/${id}`)\n      .then(resp => resp.data)\n      .then(data => {\n        dispatch(action(REMOVE_USER.SUCCESS, data))\n        dispatch(fetchUsers())\n      })\n      .catch(e => actionFailed(REMOVE_USER.FAILURE, e))\n  }\n}\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;A","sourceRoot":""}