{"version":3,"file":"main.085b9844df4c98088a2a.hot-update.js","sources":["webpack:///./src/common/auth/AuthReducer.js"],"sourcesContent":["import config from '../../config'\nimport {\n  AUTHENTICATE,\n  AUTHENTICATED_USER,\n  CHECK_AUTH,\n  LOGOUT,\n} from './AuthActions'\n\nexport const userKey = `${config.storagePrefix}_user`\nexport const tokenKey = `${config.storagePrefix}_token`\n\nconst INITIAL_STATE = {\n  forgotPassword: false,\n  loading: false,\n  modal: false,\n  user: null,\n  token: null,\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case AUTHENTICATE.SUCCESS:\n      localStorage.setItem(tokenKey, JSON.stringify(action.payload))\n      return { ...state, token: action.payload }\n    case AUTHENTICATED_USER.SUCCESS:\n      localStorage.setItem(userKey, JSON.stringify(action.payload.data.item))\n      return { ...state, user: action.payload.data.item }\n    case CHECK_AUTH:\n      if (typeof localStorage !== 'undefined') {\n        const newState = { ...state }\n        const user = localStorage.getItem(userKey)\n        if (user) {\n          newState.user = JSON.parse(user)\n        }\n        const token = localStorage.getItem(tokenKey)\n        if (token) {\n          newState.token = JSON.parse(token)\n        }\n        return newState\n      }\n\n      return { ...state }\n    case LOGOUT:\n      localStorage.removeItem(userKey)\n      localStorage.removeItem(tokenKey)\n      return { ...state, user: null, token: null }\n    default:\n      return state\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AA3BA;AA6BA;;;;A","sourceRoot":""}